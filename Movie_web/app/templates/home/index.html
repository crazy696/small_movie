{% extends 'home/navbar.html' %}
{% import 'ui/home_page.html' as pages %}

{% block content %}
    <!--热门电影-->
    <section id="hotmovie" style="margin-top:76px">
        <div class="container">
            <div class="row wow fadeInRight" data-wow-delay="0.6s">
                <div class="row">
                    <iframe class="wow fadeIn" width="100%" height="375px" frameborder=0 scrolling=no
                            src="{{ url_for('home.animation') }}"></iframe>
                </div>
            </div>
        </div>
    </section>
    <!--热门电影-->
    <!--电影列表-->
    <section id="movielist">
        <div class="container">
            <div class="row wow fadeIn" data-wow-delay="0.6s">
                <div class="col-md-12 table-responsive">
                    <table class="table text-left table-bordered" id="movietags">
                        <tr>
                            <td style="width:10%;">电影标签</td>
                            <td style="width:90%;">
                                {% for foo in tags %}
                                    <a href="{{ url_for('home.index', page=1) }}?title_id={{ foo.id }}&star={{ movie_description['star'] }}&time={{ movie_description['time'] }}&play_num={{ movie_description['play_num'] }}&comment_num={{ movie_description['comment_num'] }}"
                                       class="label label-info"><span
                                            class="glyphicon glyphicon-tag"></span>&nbsp;{{ foo.title }}</a>
                                {% endfor %}
                            </td>
                        </tr>
                        <tr>
                            <td>电影星级</td>
                            <td>
                                {% for foo in ('一', '二', '三', '四', '五') %}
                                    <a href="{{ url_for('home.index', page=1) }}?title_id={{ movie_description['title_id'] }}&star={{ foo }}&time={{ movie_description['time'] }}&play_num={{ movie_description['play_num'] }}&comment_num={{ movie_description['comment_num'] }}"
                                       class="label label-warning"><span
                                            class="glyphicon glyphicon-star"></span>&nbsp;{{ foo }}星</a>
                                {% endfor %}


                            </td>
                        </tr>
                        <tr>
                            <td>上映时间</td>
                            <td>
                                <a href="{{ url_for('home.index', page=1) }}?title_id={{ movie_description['title_id'] }}&star={{ movie_description['star'] }}&time=1&play_num={{ movie_description['play_num'] }}&comment_num={{ movie_description['comment_num'] }}"
                                   class="label label-default"><span
                                        class="glyphicon glyphicon-time"></span>&nbsp;最近</a>
                                &nbsp;
                                <a href="{{ url_for('home.index', page=1) }}?title_id={{ movie_description['title_id'] }}&star={{ movie_description['star'] }}&time=2019&play_num={{ movie_description['play_num'] }}&comment_num={{ movie_description['comment_num'] }}"
                                   class="label label-default"><span
                                        class="glyphicon glyphicon-time"></span>&nbsp;2019</a>
                                &nbsp;
                                <a href="{{ url_for('home.index', page=1) }}?title_id={{ movie_description['title_id'] }}&star={{ movie_description['star'] }}&time=2018&play_num={{ movie_description['play_num'] }}&comment_num={{ movie_description['comment_num'] }}"
                                   class="label label-default"><span
                                        class="glyphicon glyphicon-time"></span>&nbsp;2018</a>
                                &nbsp;
                                <a href="{{ url_for('home.index', page=1) }}?title_id={{ movie_description['title_id'] }}&star={{ movie_description['star'] }}&time=2017&play_num={{ movie_description['play_num'] }}&comment_num={{ movie_description['comment_num'] }}"
                                   class="label label-default"><span
                                        class="glyphicon glyphicon-time"></span>&nbsp;2017</a>
                                &nbsp;
                                <a href="{{ url_for('home.index', page=1) }}?title_id={{ movie_description['title_id'] }}&star={{ movie_description['star'] }}&time=2&play_num={{ movie_description['play_num'] }}&comment_num={{ movie_description['comment_num'] }}"
                                   class="label label-default"><span
                                        class="glyphicon glyphicon-time"></span>&nbsp;更早</a>
                            </td>
                        </tr>
                        <tr>
                            <td>播放数量</td>
                            <td>
                                <a href="{{ url_for('home.index', page=1) }}?title_id={{ movie_description['title_id'] }}&star={{ movie_description['star'] }}&time=movie_description['time']&play_num=1&comment_num={{ movie_description['comment_num'] }}"
                                   class="label label-success"><span class="glyphicon glyphicon-arrow-down"></span>&nbsp;从高到底</span>
                                </a>
                                &nbsp;
                                <a href="{{ url_for('home.index', page=1) }}?title_id={{ movie_description['title_id'] }}&star={{ movie_description['star'] }}&time=movie_description['time']&play_num=2&comment_num={{ movie_description['comment_num'] }}"
                                   class="label label-danger"><span class="glyphicon glyphicon-arrow-up"></span>&nbsp;从低到高</span>
                                </a>
                            </td>
                        </tr>
                        <tr>
                            <td>评论数量</td>
                            <td>
                                <a href="{{ url_for('home.index', page=1) }}?title_id={{ movie_description['title_id'] }}&star={{ movie_description['star'] }}&time=movie_description['time']&play_num={{ movie_description['play_num'] }}&comment_num=1"
                                   class="label label-success"><span class="glyphicon glyphicon-arrow-down"></span>&nbsp;从高到底</span>
                                </a>
                                &nbsp;
                                <a href="{{ url_for('home.index', page=1) }}?title_id={{ movie_description['title_id'] }}&star={{ movie_description['star'] }}&time=movie_description['time']&play_num={{ movie_description['play_num'] }}&comment_num=2"
                                   class="label label-danger"><span class="glyphicon glyphicon-arrow-up"></span>&nbsp;从低到高</span>
                                </a>
                            </td>
                        </tr>
                    </table>
                </div>
                {% for foo in page_data.items %}
                    <div class="col-md-3">
                        <div class="movielist text-center">
                            <!--<img data-original="holder.js/262x166"
                                     class="img-responsive lazy center-block" alt="">-->
                            <a href="{{ url_for('home.dplayer', id=foo.id, page=1) }}"><img style="height: 150px; width: 250px"
                                    src="{{ url_for('static',  filename='uploads/Movie_Cover/'+foo.logo) }}"
                                    class="img-responsive center-block" alt=""></a>
                            <div class="text-left"
                                 style="margin-left:auto;margin-right:auto;width:210px;">
                                <span style="color:#999;font-style: italic;">{{ foo.title }}</span><br>
                                <div>
                                    {% for fo in range((foo.star/20)|int) %}
                                        <span class="glyphicon glyphicon-star" style="color:#FFD119"></span>
                                    {% endfor %}
                                    {% for fo in range(5-(foo.star/20)|int) %}
                                        <span class="glyphicon glyphicon-star-empty" style="color:#FFD119"></span>
                                    {% endfor %}<span>{{ foo.star/10 }}</span>
                                </div>
                            </div>

                            <a href="{{ url_for('home.dplayer', id=foo.id, page=1) }}" class="btn btn-primary"
                               target="_blank"
                               role="button"><span
                                    class="glyphicon glyphicon-play"></span>&nbsp;播放</a>
                        </div>
                    </div>
                {% endfor %}
                <div class="col-md-12">
                    <nav aria-label="Page navigation">
                        <ul class="pagination">
                            {{ pages.page(page_data, 'home.index') }}
                        </ul>
                    </nav>
                </div>
            </div>
        </div>
    </section>
    <!--电影列表-->
{% endblock %}